
  <!DOCTYPE html>
  <html lang="en">
    <head>
      <%- include('../partials/head'); %>

      <script>
        let routeType = 'action';
        let userTask = 'Submit';
        let dataOutputAssociation = 'local'

        function enterAddress(event){
          const form = document.querySelector('form');
          const data = Object.fromEntries(new FormData(form).entries());
          if(routeType === 'action' && userTask !== 'undefined' &&  dataOutputAssociation === 'local'){
            localStorage.removeItem("Address");
            localStorage.setItem("Address", JSON.stringify(data))
            window.location.href = 'http://localhost:8000/enterPayment';
          }
          return false;
        }

        function checkform(){
          var form = document.forms["form"].elements;
          var cansubmit = true;
          for (let i=0; i <form.length; i++) {
              if (form[i].value.length == 0) cansubmit = false;
          }

          if (cansubmit) {
            document.getElementById('submitbutton').disabled = !cansubmit;
          }
        }
      </script>
    </head>

    <body>
      <header>
        <%- include('../partials/header'); %>
      </header>
      <main>
        <div class="jumbotron">
          <button class='button-back' onclick='history.back()'>
  <span class="material-symbols-outlined back-icon">arrow_back</span> Go Back
  </button>
    <div class='main-container'>
    <div class='quantity-heading'>Enter Address</div>
    <form name="form" onsubmit="return false">
  <select onChange="checkform()" class="form-control" name="country" type="text" placeholder='Select Country'><option disabled selected>Select Country</option><option>Sri Lanka</option><option>India</option><option>Andorra</option><option>Finland</option><option>Kenya</option><option>Bangladesh</option><option>Afghanistan</option><option>Belgium</option><option>Turkey</option><option>Cambodia</option><option>Denmark</option><option>Bulgaria</option><option>Lebanon</option><option>Belarus</option><option>Singapore</option><option>Saudi Arabia</option><option>Angola</option><option>Hungary</option><option>France</option><option>Albania</option><option>South Africa</option><option>Germany</option><option>Iceland</option><option>Bahamas</option><option>Nepal</option></select><br/><div class="form-group"><input class="form-control" name="City" type="text" onKeyup="checkform()" placeholder='Enter Your City' required /></div><div class="form-group"><input class="form-control" name="Postal Code" type="undefined" onKeyup="checkform()" placeholder='Enter Your Postal Code' required /></div><div class="form-group"><input class="form-control" name="Street Name" type="text" onKeyup="checkform()" placeholder='Enter Your Street Name' required /></div><div class="form-group"><input class="form-control" name="Street Number" type="number" onKeyup="checkform()" placeholder='Enter Your Street Number' required /></div><div class="form-group"><input class="form-control" name="Town" type="text" onKeyup="checkform()" placeholder='Enter Your Town' required /></div>
    <br/>
      
    <input id="submitbutton" type="submit" disabled="disabled" onClick="enterAddress(this)" class="form-control btn btn-primary" value="Submit" />
    </form>
    </div>
        </div>
      </main>
      <footer>
        <%- include('../partials/footer'); %>
      </footer>
    </body>
  </html>
